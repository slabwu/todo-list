(()=>{"use strict";var __webpack_modules__={558:()=>{eval('\n;// ./src/pubsub.js\nclass PubSub {\n    #events = {};\n\n    on(eventName, fn) {\n        this.#events[eventName] = this.#events[eventName] || [];\n        this.#events[eventName].push(fn);\n    }\n\n    off(eventName, fn) {\n        if (this.#events[eventName]) {\n            for (let i = 0; i < this.#events[eventName].length; i++) {\n                if (this.#events[eventName][i] === fn) {\n                    this.#events[eventName].splice(i, 1);\n                    break;\n                }\n            };\n        };\n    }\n\n    emit(eventName, data) {\n        if (this.#events[eventName]) {\n            this.#events[eventName].forEach((fn) => {\n                fn(data);\n            });\n        }\n    }\n\n    get list() {\n        return this.#events;\n    }\n};\n\nconst Events = new PubSub;\n;// ./src/project.js\n\n\nclass Project {\n    constructor(name) {\n        this.name = name;\n    }\n\n    setAsCurrent() {\n        Projects.current = this.name;\n        Events.emit("updateTasks");\n    }\n}\n\nclass ProjectManager {\n    #projectList = [];\n    #currentProject = "Inbox";\n\n    get list() {\n        return this.#projectList;\n    }\n\n    get current() {\n        return this.#currentProject;\n    }\n\n    set current(project) {\n        this.#currentProject = project;\n    }\n\n    add(name) {\n        this.#projectList.push(new Project(name));\n        Events.emit("updateProjects");\n    }\n}\n\nconst Projects = new ProjectManager;\nEvents.on("updateProjects", () => {localStorage.setItem(\'projects\', JSON.stringify(Projects.list))});\n;// ./src/helper.js\n\n \n\n\nfunction test(code) {\n    console.log(code);\n}\n\nfunction addElement(name, tag, target, className = undefined) {\n    const element = document.createElement(`${tag}`);\n    element.id = name;\n    if (className) element.classList.add(className);\n    appendElement(element, target);\n}\n\nfunction addTextElement(name, tag, target, className = undefined) {\n    const element = document.createElement(`${tag}`);\n    element.textContent = name;\n    element.classList.add(`${className}`);\n    appendElement(element, target);\n}\n\nfunction addButton(name, target, fn, icon) {\n    const element = document.createElement("button");\n    element.textContent = name;\n    element.id = `${camelCase(name)}Btn`;\n    appendElement(element, target);\n    element.addEventListener("click", (e) => {fn(e)});\n    if (icon) {\n        element.innerHTML = `<i class="material-icons">${icon}</i>` + name;\n    }\n}\n\nfunction addIcon(name, target, fn = undefined) {\n    const element = document.createElement("i");\n    element.classList.add("material-icons");\n    element.textContent = name;\n    appendElement(element, target);\n   if (fn) element.addEventListener("click", (e) => {fn(e)});\n}\n\nfunction appendElement(element, target) {\n    if (target === "body") {\n        document.body.appendChild(element);\n    } else {\n        document.getElementById(`${target}`).appendChild(element);\n    }\n}\n\nfunction addCheckbox(task, target) {\n    const element = document.createElement("div");\n    element.id = task.name;\n    element.name = task.name;\n    element.classList.add(\'checkbox\');\n    document.getElementById(`${target}`).appendChild(element);\n    element.addEventListener("click", () => {\n        (task.completed) ? task.completed = false : task.completed = true;\n        Events.emit("updateTasks");\n    });\n}\n\nfunction deleteElementsFrom(target) {\n    document.getElementById(target).innerHTML = ``;\n}\n\nfunction camelCase(str) {\n    return str\n        .replace(/\\s(.)/g, function (a) {\n            return a.toUpperCase();\n        })\n        .replace(/\\s/g, \'\')\n        .replace(/^(.)/, function (b) {\n            return b.toLowerCase();\n        });\n}\n\nfunction overdue(date) {\n    if (date === "") return false;\n    let inputDate = new Date(date.replace(/(\\d\\d)\\/(\\d\\d)\\/(\\d{4})/, "$2-$1-$3")).toISOString();\n    let currentDate = new Date(Date.now()).toISOString();\n\n    return inputDate < currentDate;\n}\n\nfunction filterTasks(tasks) {\n    switch (Projects.current) {\n        case "Inbox":\n            return tasks;\n            break;\n        case "Important":\n            return tasks.filter(task => task.priority === true);\n            break;\n        case "Overdue":\n            return tasks.filter(task => overdue(task.date) === true);\n            break;\n        case "Upcoming":\n            return tasks.filter(task => overdue(task.date) === false);\n            break;\n        default:\n            return tasks.filter(task => task.project === Projects.current);\n    }\n}\n\nfunction getDate(date) {\n    let parts = date.split(\'/\');\n    return `${parts[2]}-${parts[1]}-${parts[0]}`;\n}\n;// ./src/dialog.js\n\n\n\n\n\nclass Dialog {\n    constructor(name) {\n        this.name = name;\n        this.reference = document.getElementById(`${name}`);\n        this.answers = {};\n\n        Events.on("updateProjects", this.populate);\n        \n        if (name === "toDoDialog") {\n            let closeBtn = document.getElementById("closeBtn");\n            closeBtn.addEventListener("click", () => {\n                this.close();\n            });\n\n            let confirmBtn = document.getElementById("confirmBtn");\n            confirmBtn.addEventListener("click", (e) => {\n                e.preventDefault();\n                [...document.querySelector(`#${name} form`).children].forEach(element => {\n                    if (element.name) {\n                        this.answers[element.name] = element.value;\n                    }\n                });\n                this.answers.date = (this.answers.date) ? new Date(this.answers.date).toLocaleDateString() : "";\n\n                if (document.getElementById("dialogTitle").innerHTML === \'Add Task\') {\n                    Tasks.add(`${this.answers.name}`,`${this.answers.description}`, `${this.answers.project}`, `${this.answers.date}`);\n                }\n\n                this.close();\n            });\n        } else if (name === "projectDialog") {\n            let projectCloseBtn = document.getElementById("projectCloseBtn");\n            projectCloseBtn.addEventListener("click", () => {\n                this.close();\n            });\n    \n            let projectConfirmBtn = document.getElementById("projectConfirmBtn");\n            projectConfirmBtn.addEventListener("click", (e) => {\n                e.preventDefault();\n                [...document.querySelector(`#projectDialog form`).children].forEach(element => {\n                    if (element.name && element.value) {\n                        Projects.add(element.value)\n                    }\n                });\n    \n                this.close();\n            });\n        }};\n    \n    open() {\n        document.getElementById("dialogTitle").innerHTML = \'Add Task\';\n        this.reference.showModal();\n    }\n\n    close() {\n        this.reference.close();\n        this.clear();\n    }\n\n    clear() {\n        [...document.querySelector(`#${this.name} form`).children].forEach(element => {\n            switch(element.name) {\n                case \'name\':\n                case \'description\':\n                case \'date\':\n                    element.value = \'\';\n                    break;\n                case \'project\':\n                    element.value = \'Home\';\n                    break;\n            }\n        });\n    }\n\n    get source() {\n        return this.reference;\n    }\n\n    async edit(fields) {\n        this.open();\n        document.getElementById("dialogTitle").innerHTML = \'Edit Task\';\n        [...document.querySelector(`#${this.name} form`).children].forEach(element => {\n            if (element.name in fields) {\n                if (element.name == \'date\') {\n                    element.value = getDate(fields.date);\n                } else { \n                    element.value = fields[element.name];\n                }\n            }\n        });\n\n        await new Promise(resolve => {\n            document.getElementById("confirmBtn").addEventListener(\'click\', () => {\n              resolve();\n            }, { once: true });\n        });\n\n        return this.answers;\n    }\n\n    populate() {\n        let options = document.getElementById("project");\n        options.innerHTML = \'\';\n        let projects = Projects.list;\n        for (let i = 4; i < projects.length; i++) {\n            const element = document.createElement("option");\n            element.value = projects[i].name;\n            element.innerHTML = projects[i].name;\n            options.appendChild(element);\n        }\n    }\n}\n\nconst TaskDialog = new Dialog("toDoDialog");\nconst ProjectDialog = new Dialog("projectDialog");\n;// ./src/task.js\n\n\n\n\n\nclass Task {\n    constructor(name, description, project, date = undefined, completed = false, priority = false) {\n        this.name = name;\n        this.description = description;\n        this.project = project;\n        this.date = date;\n        this.completed = completed;\n        this.priority = priority;\n    }\n\n    favourite() {\n        this.priority = (this.priority) ? false : true;\n        Events.emit("updateTasks");\n    }\n\n    async edit() {\n        let fields = await TaskDialog.edit({name: this.name, description: this.description, project: this.project, date: this.date});\n        this.name = fields.name;\n        this.description = fields.description;\n        this.project = fields.project;\n        this.date = fields.date;\n        Events.emit("updateTasks");\n    }\n}\n\nclass List {\n    #listItems = [];\n\n    get list() {\n        return this.#listItems;\n    }\n\n    add(name, description, project, date, completed, priority) {\n        this.#listItems.push(new Task(name, description, project, date, completed, priority));\n        Events.emit("updateTasks");\n    }\n\n    delete(task) {\n        this.#listItems = this.list.filter(tasks => tasks.name != task.name);\n        Events.emit("updateTasks");\n    }\n}\n\nconst Tasks = new List;\nEvents.on("updateTasks", () => {localStorage.setItem(\'tasks\', JSON.stringify(Tasks.list))});\n;// ./src/render.js\n\n\n\n\n\n\nclass Renderer {\n    projectTitle;\n    constructor() {\n        Events.on("updateTasks", this.renderTasks);\n        Events.on("updateProjects", this.renderProjects);\n\n        addElement("content", "div", "body");\n        addElement("header", "header", "content");\n        addElement("sidebar", "nav", "content");\n        addElement("main", "main", "content");\n        addElement("mainContainer", "mainContainer", "main");\n        addElement("footer", "footer", "content");\n\n        addIcon("done_all", "header");\n        addTextElement("Right Now", "h1", "header", "title");\n        addTextElement(`${Projects.current}`, "h2", "mainContainer", "projectTitle");\n        addElement("projectList", "div", "sidebar");\n        addButton("Add Project", "sidebar", () => {ProjectDialog.open()}, \'add\');\n        addElement("taskList", "div", "mainContainer");\n        addButton("Add Task", "mainContainer", () => {TaskDialog.open()});\n    }\n\n    render() {\n        this.renderProjects();\n        this.renderTasks();\n    }\n\n    renderProjects() {\n        deleteElementsFrom("projectList");\n        let icons = ["inbox", "star", "assignment_late", "watch_later", "format_list_bulleted"];\n        Projects.list.forEach((project, index) => {\n            if (index === 4) addTextElement(\'Projects\', "h2", "projectList", "projects");\n            let icon = (index <= 4) ? icons[index]: icons[4];\n            addButton(`${project.name}`, "projectList", () => {\n                project.setAsCurrent();\n                [...document.querySelector("#projectList").children].forEach(project => {\n                    project.classList.remove("active");\n                });\n                document.querySelector(`#${camelCase(Projects.current)}Btn`).classList.add("active");\n            }, icon);\n            if (index === 0) document.querySelector(`#inboxBtn`).classList.add("active");\n        })\n    }\n\n    renderTasks() {\n        document.querySelector(".projectTitle").textContent = `${Projects.current}`;\n\n        deleteElementsFrom("taskList");\n        let currentTasks = filterTasks(Tasks.list);\n        currentTasks.forEach((task, index) => {\n            let taskContainer = `task${index + 1}`;\n            addElement(taskContainer, "div", "taskList", "task");\n\n            addCheckbox(task, taskContainer);\n            addTextElement(task.name, "p", taskContainer, "name");\n            addTextElement(task.description, "p", taskContainer, "description");\n            addTextElement(task.date, "p", taskContainer, "date");\n            addElement("divider", "div", "taskList", "divider");\n\n            let star = (task.priority) ? "star" : "star_outline";\n            addIcon(star, taskContainer, (e) => {task.favourite()});\n            addIcon("edit", taskContainer, () => {task.edit()});\n            addIcon("close", taskContainer, () => {Tasks.delete(task)});\n\n            let elements = [...document.getElementById(`${taskContainer}`).children];\n\n            if (task.completed) {\n                elements.forEach(element => element.classList.add("completed"));\n            } else {\n                elements.forEach(element => element.classList.remove("completed"));\n            }\n\n            if (overdue(task.date)) {\n                elements[3].classList.add("overdue");\n            } else {\n                elements[3].classList.remove("overdue");\n            }\n        })\n    }\n}\n\nconst Screen = new Renderer;\n;// ./src/index.js\n\n\n\n\n\n\n\n\nScreen.render();\n\nlet defaultTasks = [\n    ["Dinner", "Prepare chicken and marinade", "Home", "11/12/2024"],\n    ["Walk", "Take a stroll with the dog", "Home", "06/03/2025"],\n    ["Meeting", "Write up meeting minutes from yesterday", "Work", "14/04/2025"],\n    ["Clean", "Tidy up the living room", "Home", "30/11/2024"],\n    ["Dishes", "Wash up dishes", "Home", "03/11/2025"],\n    ["Slides", "Present competitive research analysis", "Work", "16/10/2026"],\n    ["Email", "Reply to email regarding open tickets", "Work", "22/07/2025"],\n    ["Thesis", "Draft body structure and main arguments", "Study", "01/05/2026"],\n    ["Revise", "Read Chapter 4-6 and prepare notes", "Study", "28/01/2025"],\n    ["Repair", "Buy a new bulb to fix the ceiling light", "Home", "06/06/2025"],\n    ["Report", "Submit financial report to HR", "Work", "15/10/2025"],\n    ["Essay", "Edit conclusion and add references", "Study", "12/04/2025"]\n];\nlet tasks = localStorage.getItem(\'tasks\')\n\nif (tasks && JSON.parse(tasks).length > 1) {\n    JSON.parse(tasks).forEach(task => Tasks.add(task.name, task.description, task.project, task.date, task.completed, task.priority));\n} else {\n    defaultTasks.forEach(task => Tasks.add(task[0], task[1], task[2], task[3]));\n}\n\n\nlet defaultProjects = [ "Inbox", "Important", "Overdue", "Upcoming", "Home", "Work", "Study" ];\nlet projects = localStorage.getItem(\'projects\')\n\nif (projects && JSON.parse(projects).length > 1) {\n    JSON.parse(projects).forEach(project => Projects.add(project.name));\n} else {\n    defaultProjects.forEach(project => Projects.add(project));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiwyQ0FBMkMsU0FBUyxDQUFDLFFBQVEsVUFBVTtBQUN2RSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxpRUFBaUUsUUFBUSxTQUFTOztBQUVsRixRQUFRLGtCQUFrQjtBQUMxQiwyQkFBMkIsV0FBVyxDQUFDLEtBQUs7QUFDNUM7QUFDQSx1Q0FBdUMsVUFBVTtBQUNqRCxZQUFZLFVBQVU7O0FBRXRCLFlBQVksV0FBVztBQUN2QixZQUFZLGNBQWM7QUFDMUIsWUFBWSxjQUFjO0FBQzFCLFlBQVksY0FBYztBQUMxQixZQUFZLFVBQVU7O0FBRXRCO0FBQ0EsWUFBWSxPQUFPLDhCQUE4QixpQkFBaUI7QUFDbEUsWUFBWSxPQUFPLCtCQUErQixZQUFZO0FBQzlELFlBQVksT0FBTyxnQ0FBZ0MsS0FBSyxjQUFjOztBQUV0RSwwREFBMEQsY0FBYzs7QUFFeEU7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFTyw0Qjs7QUN2RmU7QUFDd0I7QUFDQTtBQUNZO0FBQzFCO0FBQ0U7QUFDQTs7QUFFbEMsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0MsS0FBSztBQUMzQyxFQUFFO0FBQ0YsaUNBQWlDLEtBQUs7QUFDdEM7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRCxFQUFFO0FBQ0YsdUNBQXVDLFFBQVE7QUFDL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJwYWNrLy4vc3JjL3B1YnN1Yi5qcz9iYWVlIiwid2VicGFjazovL3dlYnBhY2svLi9zcmMvcHJvamVjdC5qcz9mNTliIiwid2VicGFjazovL3dlYnBhY2svLi9zcmMvaGVscGVyLmpzPzYyNzUiLCJ3ZWJwYWNrOi8vd2VicGFjay8uL3NyYy9kaWFsb2cuanM/NmU4ZiIsIndlYnBhY2s6Ly93ZWJwYWNrLy4vc3JjL3Rhc2suanM/N2MxMSIsIndlYnBhY2s6Ly93ZWJwYWNrLy4vc3JjL3JlbmRlci5qcz8xMWZjIiwid2VicGFjazovL3dlYnBhY2svLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBQdWJTdWIge1xuICAgICNldmVudHMgPSB7fTtcblxuICAgIG9uKGV2ZW50TmFtZSwgZm4pIHtcbiAgICAgICAgdGhpcy4jZXZlbnRzW2V2ZW50TmFtZV0gPSB0aGlzLiNldmVudHNbZXZlbnROYW1lXSB8fCBbXTtcbiAgICAgICAgdGhpcy4jZXZlbnRzW2V2ZW50TmFtZV0ucHVzaChmbik7XG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50TmFtZSwgZm4pIHtcbiAgICAgICAgaWYgKHRoaXMuI2V2ZW50c1tldmVudE5hbWVdKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuI2V2ZW50c1tldmVudE5hbWVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuI2V2ZW50c1tldmVudE5hbWVdW2ldID09PSBmbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNldmVudHNbZXZlbnROYW1lXS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZW1pdChldmVudE5hbWUsIGRhdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuI2V2ZW50c1tldmVudE5hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLiNldmVudHNbZXZlbnROYW1lXS5mb3JFYWNoKChmbikgPT4ge1xuICAgICAgICAgICAgICAgIGZuKGRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgbGlzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2V2ZW50cztcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgRXZlbnRzID0gbmV3IFB1YlN1YjsiLCJpbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi9wdWJzdWJcIjtcblxuZXhwb3J0IGNsYXNzIFByb2plY3Qge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBzZXRBc0N1cnJlbnQoKSB7XG4gICAgICAgIFByb2plY3RzLmN1cnJlbnQgPSB0aGlzLm5hbWU7XG4gICAgICAgIEV2ZW50cy5lbWl0KFwidXBkYXRlVGFza3NcIik7XG4gICAgfVxufVxuXG5jbGFzcyBQcm9qZWN0TWFuYWdlciB7XG4gICAgI3Byb2plY3RMaXN0ID0gW107XG4gICAgI2N1cnJlbnRQcm9qZWN0ID0gXCJJbmJveFwiO1xuXG4gICAgZ2V0IGxpc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNwcm9qZWN0TGlzdDtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2N1cnJlbnRQcm9qZWN0O1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50KHByb2plY3QpIHtcbiAgICAgICAgdGhpcy4jY3VycmVudFByb2plY3QgPSBwcm9qZWN0O1xuICAgIH1cblxuICAgIGFkZChuYW1lKSB7XG4gICAgICAgIHRoaXMuI3Byb2plY3RMaXN0LnB1c2gobmV3IFByb2plY3QobmFtZSkpO1xuICAgICAgICBFdmVudHMuZW1pdChcInVwZGF0ZVByb2plY3RzXCIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFByb2plY3RzID0gbmV3IFByb2plY3RNYW5hZ2VyO1xuRXZlbnRzLm9uKFwidXBkYXRlUHJvamVjdHNcIiwgKCkgPT4ge2xvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KFByb2plY3RzLmxpc3QpKX0pOyIsImltcG9ydCB7IEV2ZW50cyB9IGZyb20gXCIuL3B1YnN1YlwiO1xuaW1wb3J0IHsgUHJvamVjdHMgfSBmcm9tIFwiLi9wcm9qZWN0XCI7IFxuaW1wb3J0IHsgYWRkIH0gZnJvbSBcImRhdGUtZm5zXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXN0KGNvZGUpIHtcbiAgICBjb25zb2xlLmxvZyhjb2RlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEVsZW1lbnQobmFtZSwgdGFnLCB0YXJnZXQsIGNsYXNzTmFtZSA9IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGAke3RhZ31gKTtcbiAgICBlbGVtZW50LmlkID0gbmFtZTtcbiAgICBpZiAoY2xhc3NOYW1lKSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICBhcHBlbmRFbGVtZW50KGVsZW1lbnQsIHRhcmdldCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRUZXh0RWxlbWVudChuYW1lLCB0YWcsIHRhcmdldCwgY2xhc3NOYW1lID0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYCR7dGFnfWApO1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChgJHtjbGFzc05hbWV9YCk7XG4gICAgYXBwZW5kRWxlbWVudChlbGVtZW50LCB0YXJnZXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQnV0dG9uKG5hbWUsIHRhcmdldCwgZm4sIGljb24pIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBlbGVtZW50LmlkID0gYCR7Y2FtZWxDYXNlKG5hbWUpfUJ0bmA7XG4gICAgYXBwZW5kRWxlbWVudChlbGVtZW50LCB0YXJnZXQpO1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7Zm4oZSl9KTtcbiAgICBpZiAoaWNvbikge1xuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGA8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+JHtpY29ufTwvaT5gICsgbmFtZTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRJY29uKG5hbWUsIHRhcmdldCwgZm4gPSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWF0ZXJpYWwtaWNvbnNcIik7XG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgYXBwZW5kRWxlbWVudChlbGVtZW50LCB0YXJnZXQpO1xuICAgaWYgKGZuKSBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge2ZuKGUpfSk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZEVsZW1lbnQoZWxlbWVudCwgdGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldCA9PT0gXCJib2R5XCIpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0YXJnZXR9YCkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2hlY2tib3godGFzaywgdGFyZ2V0KSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZWxlbWVudC5pZCA9IHRhc2submFtZTtcbiAgICBlbGVtZW50Lm5hbWUgPSB0YXNrLm5hbWU7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RhcmdldH1gKS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICh0YXNrLmNvbXBsZXRlZCkgPyB0YXNrLmNvbXBsZXRlZCA9IGZhbHNlIDogdGFzay5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBFdmVudHMuZW1pdChcInVwZGF0ZVRhc2tzXCIpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlRWxlbWVudHNGcm9tKHRhcmdldCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCkuaW5uZXJIVE1MID0gYGA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW1lbENhc2Uoc3RyKSB7XG4gICAgcmV0dXJuIHN0clxuICAgICAgICAucmVwbGFjZSgvXFxzKC4pL2csIGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICByZXR1cm4gYS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9KVxuICAgICAgICAucmVwbGFjZSgvXFxzL2csICcnKVxuICAgICAgICAucmVwbGFjZSgvXiguKS8sIGZ1bmN0aW9uIChiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJkdWUoZGF0ZSkge1xuICAgIGlmIChkYXRlID09PSBcIlwiKSByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGlucHV0RGF0ZSA9IG5ldyBEYXRlKGRhdGUucmVwbGFjZSgvKFxcZFxcZClcXC8oXFxkXFxkKVxcLyhcXGR7NH0pLywgXCIkMi0kMS0kM1wiKSkudG9JU09TdHJpbmcoKTtcbiAgICBsZXQgY3VycmVudERhdGUgPSBuZXcgRGF0ZShEYXRlLm5vdygpKS50b0lTT1N0cmluZygpO1xuXG4gICAgcmV0dXJuIGlucHV0RGF0ZSA8IGN1cnJlbnREYXRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyVGFza3ModGFza3MpIHtcbiAgICBzd2l0Y2ggKFByb2plY3RzLmN1cnJlbnQpIHtcbiAgICAgICAgY2FzZSBcIkluYm94XCI6XG4gICAgICAgICAgICByZXR1cm4gdGFza3M7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkltcG9ydGFudFwiOlxuICAgICAgICAgICAgcmV0dXJuIHRhc2tzLmZpbHRlcih0YXNrID0+IHRhc2sucHJpb3JpdHkgPT09IHRydWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJPdmVyZHVlXCI6XG4gICAgICAgICAgICByZXR1cm4gdGFza3MuZmlsdGVyKHRhc2sgPT4gb3ZlcmR1ZSh0YXNrLmRhdGUpID09PSB0cnVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiVXBjb21pbmdcIjpcbiAgICAgICAgICAgIHJldHVybiB0YXNrcy5maWx0ZXIodGFzayA9PiBvdmVyZHVlKHRhc2suZGF0ZSkgPT09IGZhbHNlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHRhc2tzLmZpbHRlcih0YXNrID0+IHRhc2sucHJvamVjdCA9PT0gUHJvamVjdHMuY3VycmVudCk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0ZShkYXRlKSB7XG4gICAgbGV0IHBhcnRzID0gZGF0ZS5zcGxpdCgnLycpO1xuICAgIHJldHVybiBgJHtwYXJ0c1syXX0tJHtwYXJ0c1sxXX0tJHtwYXJ0c1swXX1gO1xufSIsImltcG9ydCB7IFRhc2tzIH0gZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0IHsgUHJvamVjdCwgUHJvamVjdHMgfSBmcm9tIFwiLi9wcm9qZWN0XCI7XG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi9wdWJzdWJcIjtcbmltcG9ydCB7IGdldERhdGUgfSBmcm9tIFwiLi9oZWxwZXJcIjtcblxuZXhwb3J0IGNsYXNzIERpYWxvZyB7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke25hbWV9YCk7XG4gICAgICAgIHRoaXMuYW5zd2VycyA9IHt9O1xuXG4gICAgICAgIEV2ZW50cy5vbihcInVwZGF0ZVByb2plY3RzXCIsIHRoaXMucG9wdWxhdGUpO1xuICAgICAgICBcbiAgICAgICAgaWYgKG5hbWUgPT09IFwidG9Eb0RpYWxvZ1wiKSB7XG4gICAgICAgICAgICBsZXQgY2xvc2VCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlQnRuXCIpO1xuICAgICAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGV0IGNvbmZpcm1CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmZpcm1CdG5cIik7XG4gICAgICAgICAgICBjb25maXJtQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7bmFtZX0gZm9ybWApLmNoaWxkcmVuXS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuc3dlcnNbZWxlbWVudC5uYW1lXSA9IGVsZW1lbnQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuc3dlcnMuZGF0ZSA9ICh0aGlzLmFuc3dlcnMuZGF0ZSkgPyBuZXcgRGF0ZSh0aGlzLmFuc3dlcnMuZGF0ZSkudG9Mb2NhbGVEYXRlU3RyaW5nKCkgOiBcIlwiO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGlhbG9nVGl0bGVcIikuaW5uZXJIVE1MID09PSAnQWRkIFRhc2snKSB7XG4gICAgICAgICAgICAgICAgICAgIFRhc2tzLmFkZChgJHt0aGlzLmFuc3dlcnMubmFtZX1gLGAke3RoaXMuYW5zd2Vycy5kZXNjcmlwdGlvbn1gLCBgJHt0aGlzLmFuc3dlcnMucHJvamVjdH1gLCBgJHt0aGlzLmFuc3dlcnMuZGF0ZX1gKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChuYW1lID09PSBcInByb2plY3REaWFsb2dcIikge1xuICAgICAgICAgICAgbGV0IHByb2plY3RDbG9zZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdENsb3NlQnRuXCIpO1xuICAgICAgICAgICAgcHJvamVjdENsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgXG4gICAgICAgICAgICBsZXQgcHJvamVjdENvbmZpcm1CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RDb25maXJtQnRuXCIpO1xuICAgICAgICAgICAgcHJvamVjdENvbmZpcm1CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcHJvamVjdERpYWxvZyBmb3JtYCkuY2hpbGRyZW5dLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Lm5hbWUgJiYgZWxlbWVudC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUHJvamVjdHMuYWRkKGVsZW1lbnQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfX07XG4gICAgXG4gICAgb3BlbigpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkaWFsb2dUaXRsZVwiKS5pbm5lckhUTUwgPSAnQWRkIFRhc2snO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZS5zaG93TW9kYWwoKTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2UuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5uYW1lfSBmb3JtYCkuY2hpbGRyZW5dLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBzd2l0Y2goZWxlbWVudC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnbmFtZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZGVzY3JpcHRpb24nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3Byb2plY3QnOlxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gJ0hvbWUnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0IHNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmZXJlbmNlO1xuICAgIH1cblxuICAgIGFzeW5jIGVkaXQoZmllbGRzKSB7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRpYWxvZ1RpdGxlXCIpLmlubmVySFRNTCA9ICdFZGl0IFRhc2snO1xuICAgICAgICBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5uYW1lfSBmb3JtYCkuY2hpbGRyZW5dLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5uYW1lIGluIGZpZWxkcykge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Lm5hbWUgPT0gJ2RhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQudmFsdWUgPSBnZXREYXRlKGZpZWxkcy5kYXRlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyBcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC52YWx1ZSA9IGZpZWxkc1tlbGVtZW50Lm5hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmZpcm1CdG5cIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYW5zd2VycztcbiAgICB9XG5cbiAgICBwb3B1bGF0ZSgpIHtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RcIik7XG4gICAgICAgIG9wdGlvbnMuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGxldCBwcm9qZWN0cyA9IFByb2plY3RzLmxpc3Q7XG4gICAgICAgIGZvciAobGV0IGkgPSA0OyBpIDwgcHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgICAgICAgZWxlbWVudC52YWx1ZSA9IHByb2plY3RzW2ldLm5hbWU7XG4gICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHByb2plY3RzW2ldLm5hbWU7XG4gICAgICAgICAgICBvcHRpb25zLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgVGFza0RpYWxvZyA9IG5ldyBEaWFsb2coXCJ0b0RvRGlhbG9nXCIpO1xuZXhwb3J0IGNvbnN0IFByb2plY3REaWFsb2cgPSBuZXcgRGlhbG9nKFwicHJvamVjdERpYWxvZ1wiKTsiLCJpbXBvcnQgeyBjb25zdHJ1Y3RGcm9tIH0gZnJvbSBcImRhdGUtZm5zXCI7XG5pbXBvcnQgeyB0ZXN0IH0gZnJvbSBcIi4vaGVscGVyXCI7XG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi9wdWJzdWJcIjtcbmltcG9ydCB7IFRhc2tEaWFsb2cgfSBmcm9tIFwiLi9kaWFsb2dcIjtcblxuZXhwb3J0IGNsYXNzIFRhc2sge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGRlc2NyaXB0aW9uLCBwcm9qZWN0LCBkYXRlID0gdW5kZWZpbmVkLCBjb21wbGV0ZWQgPSBmYWxzZSwgcHJpb3JpdHkgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMuZGF0ZSA9IGRhdGU7XG4gICAgICAgIHRoaXMuY29tcGxldGVkID0gY29tcGxldGVkO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgfVxuXG4gICAgZmF2b3VyaXRlKCkge1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gKHRoaXMucHJpb3JpdHkpID8gZmFsc2UgOiB0cnVlO1xuICAgICAgICBFdmVudHMuZW1pdChcInVwZGF0ZVRhc2tzXCIpO1xuICAgIH1cblxuICAgIGFzeW5jIGVkaXQoKSB7XG4gICAgICAgIGxldCBmaWVsZHMgPSBhd2FpdCBUYXNrRGlhbG9nLmVkaXQoe25hbWU6IHRoaXMubmFtZSwgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sIHByb2plY3Q6IHRoaXMucHJvamVjdCwgZGF0ZTogdGhpcy5kYXRlfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IGZpZWxkcy5uYW1lO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZmllbGRzLmRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLnByb2plY3QgPSBmaWVsZHMucHJvamVjdDtcbiAgICAgICAgdGhpcy5kYXRlID0gZmllbGRzLmRhdGU7XG4gICAgICAgIEV2ZW50cy5lbWl0KFwidXBkYXRlVGFza3NcIik7XG4gICAgfVxufVxuXG5jbGFzcyBMaXN0IHtcbiAgICAjbGlzdEl0ZW1zID0gW107XG5cbiAgICBnZXQgbGlzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2xpc3RJdGVtcztcbiAgICB9XG5cbiAgICBhZGQobmFtZSwgZGVzY3JpcHRpb24sIHByb2plY3QsIGRhdGUsIGNvbXBsZXRlZCwgcHJpb3JpdHkpIHtcbiAgICAgICAgdGhpcy4jbGlzdEl0ZW1zLnB1c2gobmV3IFRhc2sobmFtZSwgZGVzY3JpcHRpb24sIHByb2plY3QsIGRhdGUsIGNvbXBsZXRlZCwgcHJpb3JpdHkpKTtcbiAgICAgICAgRXZlbnRzLmVtaXQoXCJ1cGRhdGVUYXNrc1wiKTtcbiAgICB9XG5cbiAgICBkZWxldGUodGFzaykge1xuICAgICAgICB0aGlzLiNsaXN0SXRlbXMgPSB0aGlzLmxpc3QuZmlsdGVyKHRhc2tzID0+IHRhc2tzLm5hbWUgIT0gdGFzay5uYW1lKTtcbiAgICAgICAgRXZlbnRzLmVtaXQoXCJ1cGRhdGVUYXNrc1wiKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBUYXNrcyA9IG5ldyBMaXN0O1xuRXZlbnRzLm9uKFwidXBkYXRlVGFza3NcIiwgKCkgPT4ge2xvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YXNrcycsIEpTT04uc3RyaW5naWZ5KFRhc2tzLmxpc3QpKX0pOyIsImltcG9ydCB7IEV2ZW50cyB9IGZyb20gXCIuL3B1YnN1YlwiO1xuaW1wb3J0IHsgdGVzdCwgYWRkRWxlbWVudCwgYWRkVGV4dEVsZW1lbnQsIGFkZEJ1dHRvbiwgZGVsZXRlRWxlbWVudHNGcm9tLCBjYW1lbENhc2UsIGFkZENoZWNrYm94LCBvdmVyZHVlLCBmaWx0ZXJUYXNrcywgYWRkSWNvbiB9IGZyb20gXCIuL2hlbHBlclwiO1xuaW1wb3J0IHsgVGFza3MgfSBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgeyBQcm9qZWN0LCBQcm9qZWN0cyB9IGZyb20gXCIuL3Byb2plY3RcIjtcbmltcG9ydCB7IFRhc2tEaWFsb2csIFByb2plY3REaWFsb2cgfSBmcm9tIFwiLi9kaWFsb2dcIjtcblxuY2xhc3MgUmVuZGVyZXIge1xuICAgIHByb2plY3RUaXRsZTtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgRXZlbnRzLm9uKFwidXBkYXRlVGFza3NcIiwgdGhpcy5yZW5kZXJUYXNrcyk7XG4gICAgICAgIEV2ZW50cy5vbihcInVwZGF0ZVByb2plY3RzXCIsIHRoaXMucmVuZGVyUHJvamVjdHMpO1xuXG4gICAgICAgIGFkZEVsZW1lbnQoXCJjb250ZW50XCIsIFwiZGl2XCIsIFwiYm9keVwiKTtcbiAgICAgICAgYWRkRWxlbWVudChcImhlYWRlclwiLCBcImhlYWRlclwiLCBcImNvbnRlbnRcIik7XG4gICAgICAgIGFkZEVsZW1lbnQoXCJzaWRlYmFyXCIsIFwibmF2XCIsIFwiY29udGVudFwiKTtcbiAgICAgICAgYWRkRWxlbWVudChcIm1haW5cIiwgXCJtYWluXCIsIFwiY29udGVudFwiKTtcbiAgICAgICAgYWRkRWxlbWVudChcIm1haW5Db250YWluZXJcIiwgXCJtYWluQ29udGFpbmVyXCIsIFwibWFpblwiKTtcbiAgICAgICAgYWRkRWxlbWVudChcImZvb3RlclwiLCBcImZvb3RlclwiLCBcImNvbnRlbnRcIik7XG5cbiAgICAgICAgYWRkSWNvbihcImRvbmVfYWxsXCIsIFwiaGVhZGVyXCIpO1xuICAgICAgICBhZGRUZXh0RWxlbWVudChcIlJpZ2h0IE5vd1wiLCBcImgxXCIsIFwiaGVhZGVyXCIsIFwidGl0bGVcIik7XG4gICAgICAgIGFkZFRleHRFbGVtZW50KGAke1Byb2plY3RzLmN1cnJlbnR9YCwgXCJoMlwiLCBcIm1haW5Db250YWluZXJcIiwgXCJwcm9qZWN0VGl0bGVcIik7XG4gICAgICAgIGFkZEVsZW1lbnQoXCJwcm9qZWN0TGlzdFwiLCBcImRpdlwiLCBcInNpZGViYXJcIik7XG4gICAgICAgIGFkZEJ1dHRvbihcIkFkZCBQcm9qZWN0XCIsIFwic2lkZWJhclwiLCAoKSA9PiB7UHJvamVjdERpYWxvZy5vcGVuKCl9LCAnYWRkJyk7XG4gICAgICAgIGFkZEVsZW1lbnQoXCJ0YXNrTGlzdFwiLCBcImRpdlwiLCBcIm1haW5Db250YWluZXJcIik7XG4gICAgICAgIGFkZEJ1dHRvbihcIkFkZCBUYXNrXCIsIFwibWFpbkNvbnRhaW5lclwiLCAoKSA9PiB7VGFza0RpYWxvZy5vcGVuKCl9KTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyUHJvamVjdHMoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJUYXNrcygpO1xuICAgIH1cblxuICAgIHJlbmRlclByb2plY3RzKCkge1xuICAgICAgICBkZWxldGVFbGVtZW50c0Zyb20oXCJwcm9qZWN0TGlzdFwiKTtcbiAgICAgICAgbGV0IGljb25zID0gW1wiaW5ib3hcIiwgXCJzdGFyXCIsIFwiYXNzaWdubWVudF9sYXRlXCIsIFwid2F0Y2hfbGF0ZXJcIiwgXCJmb3JtYXRfbGlzdF9idWxsZXRlZFwiXTtcbiAgICAgICAgUHJvamVjdHMubGlzdC5mb3JFYWNoKChwcm9qZWN0LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSA0KSBhZGRUZXh0RWxlbWVudCgnUHJvamVjdHMnLCBcImgyXCIsIFwicHJvamVjdExpc3RcIiwgXCJwcm9qZWN0c1wiKTtcbiAgICAgICAgICAgIGxldCBpY29uID0gKGluZGV4IDw9IDQpID8gaWNvbnNbaW5kZXhdOiBpY29uc1s0XTtcbiAgICAgICAgICAgIGFkZEJ1dHRvbihgJHtwcm9qZWN0Lm5hbWV9YCwgXCJwcm9qZWN0TGlzdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvamVjdC5zZXRBc0N1cnJlbnQoKTtcbiAgICAgICAgICAgICAgICBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0TGlzdFwiKS5jaGlsZHJlbl0uZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2NhbWVsQ2FzZShQcm9qZWN0cy5jdXJyZW50KX1CdG5gKS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgfSwgaWNvbik7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNpbmJveEJ0bmApLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcmVuZGVyVGFza3MoKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdFRpdGxlXCIpLnRleHRDb250ZW50ID0gYCR7UHJvamVjdHMuY3VycmVudH1gO1xuXG4gICAgICAgIGRlbGV0ZUVsZW1lbnRzRnJvbShcInRhc2tMaXN0XCIpO1xuICAgICAgICBsZXQgY3VycmVudFRhc2tzID0gZmlsdGVyVGFza3MoVGFza3MubGlzdCk7XG4gICAgICAgIGN1cnJlbnRUYXNrcy5mb3JFYWNoKCh0YXNrLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgbGV0IHRhc2tDb250YWluZXIgPSBgdGFzayR7aW5kZXggKyAxfWA7XG4gICAgICAgICAgICBhZGRFbGVtZW50KHRhc2tDb250YWluZXIsIFwiZGl2XCIsIFwidGFza0xpc3RcIiwgXCJ0YXNrXCIpO1xuXG4gICAgICAgICAgICBhZGRDaGVja2JveCh0YXNrLCB0YXNrQ29udGFpbmVyKTtcbiAgICAgICAgICAgIGFkZFRleHRFbGVtZW50KHRhc2submFtZSwgXCJwXCIsIHRhc2tDb250YWluZXIsIFwibmFtZVwiKTtcbiAgICAgICAgICAgIGFkZFRleHRFbGVtZW50KHRhc2suZGVzY3JpcHRpb24sIFwicFwiLCB0YXNrQ29udGFpbmVyLCBcImRlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgYWRkVGV4dEVsZW1lbnQodGFzay5kYXRlLCBcInBcIiwgdGFza0NvbnRhaW5lciwgXCJkYXRlXCIpO1xuICAgICAgICAgICAgYWRkRWxlbWVudChcImRpdmlkZXJcIiwgXCJkaXZcIiwgXCJ0YXNrTGlzdFwiLCBcImRpdmlkZXJcIik7XG5cbiAgICAgICAgICAgIGxldCBzdGFyID0gKHRhc2sucHJpb3JpdHkpID8gXCJzdGFyXCIgOiBcInN0YXJfb3V0bGluZVwiO1xuICAgICAgICAgICAgYWRkSWNvbihzdGFyLCB0YXNrQ29udGFpbmVyLCAoZSkgPT4ge3Rhc2suZmF2b3VyaXRlKCl9KTtcbiAgICAgICAgICAgIGFkZEljb24oXCJlZGl0XCIsIHRhc2tDb250YWluZXIsICgpID0+IHt0YXNrLmVkaXQoKX0pO1xuICAgICAgICAgICAgYWRkSWNvbihcImNsb3NlXCIsIHRhc2tDb250YWluZXIsICgpID0+IHtUYXNrcy5kZWxldGUodGFzayl9KTtcblxuICAgICAgICAgICAgbGV0IGVsZW1lbnRzID0gWy4uLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3Rhc2tDb250YWluZXJ9YCkuY2hpbGRyZW5dO1xuXG4gICAgICAgICAgICBpZiAodGFzay5jb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4gZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY29tcGxldGVkXCIpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImNvbXBsZXRlZFwiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvdmVyZHVlKHRhc2suZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50c1szXS5jbGFzc0xpc3QuYWRkKFwib3ZlcmR1ZVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHNbM10uY2xhc3NMaXN0LnJlbW92ZShcIm92ZXJkdWVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgU2NyZWVuID0gbmV3IFJlbmRlcmVyOyIsImltcG9ydCBcIi4vc3R5bGVzLmNzc1wiO1xuaW1wb3J0IHsgY29tcGFyZUFzYywgZm9ybWF0IH0gZnJvbSBcImRhdGUtZm5zXCI7XG5pbXBvcnQgeyBUYXNrLCBUYXNrcywgYWRkVGFzayB9IGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCB7IFByb2plY3QsIFByb2plY3RzLCBhZGRQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdFwiO1xuaW1wb3J0IHsgdGVzdCB9IGZyb20gXCIuL2hlbHBlclwiO1xuaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSBcIi4vcHVic3ViXCI7XG5pbXBvcnQgeyBTY3JlZW4gfSBmcm9tIFwiLi9yZW5kZXJcIjtcblxuU2NyZWVuLnJlbmRlcigpO1xuXG5sZXQgZGVmYXVsdFRhc2tzID0gW1xuICAgIFtcIkRpbm5lclwiLCBcIlByZXBhcmUgY2hpY2tlbiBhbmQgbWFyaW5hZGVcIiwgXCJIb21lXCIsIFwiMTEvMTIvMjAyNFwiXSxcbiAgICBbXCJXYWxrXCIsIFwiVGFrZSBhIHN0cm9sbCB3aXRoIHRoZSBkb2dcIiwgXCJIb21lXCIsIFwiMDYvMDMvMjAyNVwiXSxcbiAgICBbXCJNZWV0aW5nXCIsIFwiV3JpdGUgdXAgbWVldGluZyBtaW51dGVzIGZyb20geWVzdGVyZGF5XCIsIFwiV29ya1wiLCBcIjE0LzA0LzIwMjVcIl0sXG4gICAgW1wiQ2xlYW5cIiwgXCJUaWR5IHVwIHRoZSBsaXZpbmcgcm9vbVwiLCBcIkhvbWVcIiwgXCIzMC8xMS8yMDI0XCJdLFxuICAgIFtcIkRpc2hlc1wiLCBcIldhc2ggdXAgZGlzaGVzXCIsIFwiSG9tZVwiLCBcIjAzLzExLzIwMjVcIl0sXG4gICAgW1wiU2xpZGVzXCIsIFwiUHJlc2VudCBjb21wZXRpdGl2ZSByZXNlYXJjaCBhbmFseXNpc1wiLCBcIldvcmtcIiwgXCIxNi8xMC8yMDI2XCJdLFxuICAgIFtcIkVtYWlsXCIsIFwiUmVwbHkgdG8gZW1haWwgcmVnYXJkaW5nIG9wZW4gdGlja2V0c1wiLCBcIldvcmtcIiwgXCIyMi8wNy8yMDI1XCJdLFxuICAgIFtcIlRoZXNpc1wiLCBcIkRyYWZ0IGJvZHkgc3RydWN0dXJlIGFuZCBtYWluIGFyZ3VtZW50c1wiLCBcIlN0dWR5XCIsIFwiMDEvMDUvMjAyNlwiXSxcbiAgICBbXCJSZXZpc2VcIiwgXCJSZWFkIENoYXB0ZXIgNC02IGFuZCBwcmVwYXJlIG5vdGVzXCIsIFwiU3R1ZHlcIiwgXCIyOC8wMS8yMDI1XCJdLFxuICAgIFtcIlJlcGFpclwiLCBcIkJ1eSBhIG5ldyBidWxiIHRvIGZpeCB0aGUgY2VpbGluZyBsaWdodFwiLCBcIkhvbWVcIiwgXCIwNi8wNi8yMDI1XCJdLFxuICAgIFtcIlJlcG9ydFwiLCBcIlN1Ym1pdCBmaW5hbmNpYWwgcmVwb3J0IHRvIEhSXCIsIFwiV29ya1wiLCBcIjE1LzEwLzIwMjVcIl0sXG4gICAgW1wiRXNzYXlcIiwgXCJFZGl0IGNvbmNsdXNpb24gYW5kIGFkZCByZWZlcmVuY2VzXCIsIFwiU3R1ZHlcIiwgXCIxMi8wNC8yMDI1XCJdXG5dO1xubGV0IHRhc2tzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rhc2tzJylcblxuaWYgKHRhc2tzICYmIEpTT04ucGFyc2UodGFza3MpLmxlbmd0aCA+IDEpIHtcbiAgICBKU09OLnBhcnNlKHRhc2tzKS5mb3JFYWNoKHRhc2sgPT4gVGFza3MuYWRkKHRhc2submFtZSwgdGFzay5kZXNjcmlwdGlvbiwgdGFzay5wcm9qZWN0LCB0YXNrLmRhdGUsIHRhc2suY29tcGxldGVkLCB0YXNrLnByaW9yaXR5KSk7XG59IGVsc2Uge1xuICAgIGRlZmF1bHRUYXNrcy5mb3JFYWNoKHRhc2sgPT4gVGFza3MuYWRkKHRhc2tbMF0sIHRhc2tbMV0sIHRhc2tbMl0sIHRhc2tbM10pKTtcbn1cblxuXG5sZXQgZGVmYXVsdFByb2plY3RzID0gWyBcIkluYm94XCIsIFwiSW1wb3J0YW50XCIsIFwiT3ZlcmR1ZVwiLCBcIlVwY29taW5nXCIsIFwiSG9tZVwiLCBcIldvcmtcIiwgXCJTdHVkeVwiIF07XG5sZXQgcHJvamVjdHMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvamVjdHMnKVxuXG5pZiAocHJvamVjdHMgJiYgSlNPTi5wYXJzZShwcm9qZWN0cykubGVuZ3RoID4gMSkge1xuICAgIEpTT04ucGFyc2UocHJvamVjdHMpLmZvckVhY2gocHJvamVjdCA9PiBQcm9qZWN0cy5hZGQocHJvamVjdC5uYW1lKSk7XG59IGVsc2Uge1xuICAgIGRlZmF1bHRQcm9qZWN0cy5mb3JFYWNoKHByb2plY3QgPT4gUHJvamVjdHMuYWRkKHByb2plY3QpKTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///558\n')}},__webpack_exports__={};__webpack_modules__[558]()})();