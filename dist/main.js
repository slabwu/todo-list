(()=>{"use strict";var __webpack_modules__={558:()=>{eval('\n;// ./src/pubsub.js\nclass PubSub {\n    #events = {};\n\n    on(eventName, fn) {\n        this.#events[eventName] = this.#events[eventName] || [];\n        this.#events[eventName].push(fn);\n    }\n\n    off(eventName, fn) {\n        if (this.#events[eventName]) {\n            for (let i = 0; i < this.#events[eventName].length; i++) {\n                if (this.#events[eventName][i] === fn) {\n                    this.#events[eventName].splice(i, 1);\n                    break;\n                }\n            };\n        };\n    }\n\n    emit(eventName, data) {\n        if (this.#events[eventName]) {\n            this.#events[eventName].forEach((fn) => {\n                fn(data);\n            });\n        }\n    }\n\n    get list() {\n        return this.#events;\n    }\n};\n\nconst Events = new PubSub;\n;// ./src/project.js\n\n\nclass Project {\n    constructor(name) {\n        this.name = name;\n    }\n\n    setAsCurrent() {\n        Projects.current = this.name;\n        Events.emit("updateTasks");\n    }\n}\n\nclass ProjectManager {\n    #projectList = [];\n    #currentProject = "Inbox";\n\n    get list() {\n        return this.#projectList;\n    }\n\n    get current() {\n        return this.#currentProject;\n    }\n\n    set current(project) {\n        this.#currentProject = project;\n    }\n\n    add(name) {\n        this.#projectList.push(new Project(name));\n        Events.emit("updateProjects");\n    }\n}\n\nconst Projects = new ProjectManager;\n;// ./src/helper.js\n\n \n\n\nfunction test(code) {\n    console.log(code);\n}\n\nfunction addElement(name, tag, target, className = undefined) {\n    const element = document.createElement(`${tag}`);\n    element.id = name;\n    if (className) element.classList.add(className);\n    appendElement(element, target);\n}\n\nfunction addTextElement(name, tag, target, className = undefined) {\n    const element = document.createElement(`${tag}`);\n    element.textContent = name;\n    element.classList.add(`${className}`);\n    appendElement(element, target);\n}\n\nfunction addButton(name, target, fn, icon) {\n    const element = document.createElement("button");\n    element.textContent = name;\n    element.id = `${camelCase(name)}Btn`;\n    appendElement(element, target);\n    element.addEventListener("click", (e) => {fn(e)});\n    if (icon) {\n        element.innerHTML = `<i class="material-icons">${icon}</i>` + name;\n    }\n}\n\nfunction addIcon(name, target, fn = undefined) {\n    const element = document.createElement("i");\n    element.classList.add("material-icons");\n    element.textContent = name;\n    appendElement(element, target);\n   if (fn) element.addEventListener("click", (e) => {fn(e)});\n}\n\nfunction appendElement(element, target) {\n    if (target === "body") {\n        document.body.appendChild(element);\n    } else {\n        document.getElementById(`${target}`).appendChild(element);\n    }\n}\n\nfunction addCheckbox(task, target) {\n    const element = document.createElement("div");\n    element.id = task.name;\n    element.name = task.name;\n    element.classList.add(\'checkbox\');\n    document.getElementById(`${target}`).appendChild(element);\n    element.addEventListener("click", () => {\n        (task.completed) ? task.completed = false : task.completed = true;\n        Events.emit("updateTasks");\n    });\n}\n\nfunction deleteElementsFrom(target) {\n    document.getElementById(target).innerHTML = ``;\n}\n\nfunction camelCase(str) {\n    return str\n        .replace(/\\s(.)/g, function (a) {\n            return a.toUpperCase();\n        })\n        .replace(/\\s/g, \'\')\n        .replace(/^(.)/, function (b) {\n            return b.toLowerCase();\n        });\n}\n\nfunction overdue(date) {\n    if (date === "") return false;\n    let inputDate = new Date(date.replace(/(\\d\\d)\\/(\\d\\d)\\/(\\d{4})/, "$2-$1-$3")).toISOString();\n    let currentDate = new Date(Date.now()).toISOString();\n\n    return inputDate < currentDate;\n}\n\nfunction filterTasks(tasks) {\n    switch (Projects.current) {\n        case "Inbox":\n            return tasks;\n            break;\n        case "Important":\n            return tasks.filter(task => task.priority === true);\n            break;\n        case "Overdue":\n            return tasks.filter(task => overdue(task.date) === true);\n            break;\n        case "Upcoming":\n            return tasks.filter(task => overdue(task.date) === false);\n            break;\n        default:\n            return tasks.filter(task => task.project === Projects.current);\n    }\n}\n\nfunction getDate(date) {\n    let parts = date.split(\'/\');\n    return `${parts[2]}-${parts[1]}-${parts[0]}`;\n}\n;// ./src/dialog.js\n\n\n\nclass Dialog {\n    constructor(name) {\n        this.name = name;\n        this.reference = document.getElementById(`${name}`);\n        this.answers = {};\n\n        let closeBtn = document.getElementById("closeBtn");\n        closeBtn.addEventListener("click", () => {\n            this.close();\n        });\n\n        let confirmBtn = document.getElementById("confirmBtn");\n        confirmBtn.addEventListener("click", (e) => {\n            e.preventDefault();\n            [...document.querySelector(`#${name} form`).children].forEach(element => {\n                if (element.name) {\n                    this.answers[element.name] = element.value;\n                }\n            });\n            this.answers.date = (this.answers.date) ? new Date(this.answers.date).toLocaleDateString() : "";\n\n            if (document.getElementById("dialogTitle").innerHTML === \'Add Task\') {\n                Tasks.add(`${this.answers.name}`,`${this.answers.description}`, `${this.answers.project}`, `${this.answers.date}`);\n            }\n\n            this.close();\n        });\n    }\n    \n    open() {\n        document.getElementById("dialogTitle").innerHTML = \'Add Task\';\n        this.reference.showModal();\n    }\n\n    close() {\n        this.reference.close();\n        this.clear();\n    }\n\n    clear() {\n        [...document.querySelector(`#${this.name} form`).children].forEach(element => {\n            switch(element.name) {\n                case \'name\':\n                case \'description\':\n                case \'date\':\n                    element.value = \'\';\n                    break;\n                case \'project\':\n                    element.value = \'Home\';\n                    break;\n            }\n        });\n    }\n\n    get source() {\n        return this.reference;\n    }\n\n    async edit(fields) {\n        this.open();\n        document.getElementById("dialogTitle").innerHTML = \'Edit Task\';\n        [...document.querySelector(`#${this.name} form`).children].forEach(element => {\n            if (element.name in fields) {\n                if (element.name == \'date\') {\n                    element.value = getDate(fields.date);\n                } else { \n                    element.value = fields[element.name];\n                }\n            }\n        });\n\n        await new Promise(resolve => {\n            document.getElementById("confirmBtn").addEventListener(\'click\', () => {\n              resolve();\n            }, { once: true });\n        });\n\n        return this.answers;\n    }\n}\n\nconst TaskDialog = new Dialog("toDoDialog");\n;// ./src/task.js\n\n\n\n\n\nclass Task {\n    constructor(name, description, project, date = undefined) {\n        this.name = name;\n        this.description = description;\n        this.project = project;\n        this.date = date;\n        this.completed = false;\n        this.priority = false;\n    }\n\n    favourite() {\n        this.priority = (this.priority) ? false : true;\n        Events.emit("updateTasks");\n    }\n\n    async edit() {\n        let fields = await TaskDialog.edit({name: this.name, description: this.description, project: this.project, date: this.date});\n        this.name = fields.name;\n        this.description = fields.description;\n        this.project = fields.project;\n        this.date = fields.date;\n        Events.emit("updateTasks");\n    }\n}\n\nclass List {\n    #listItems = [];\n\n    get list() {\n        return this.#listItems;\n    }\n\n    add(name, description, project, date) {\n        this.#listItems.push(new Task(name, description, project, date));\n        Events.emit("updateTasks");\n    }\n\n    delete(task) {\n        this.#listItems = this.list.filter(tasks => tasks.name != task.name);\n        Events.emit("updateTasks");\n    }\n}\n\nconst Tasks = new List;\n;// ./src/render.js\n\n\n\n\n\n\nclass Renderer {\n    projectTitle;\n    constructor() {\n        Events.on("updateTasks", this.renderTasks);\n        Events.on("updateProjects", this.renderProjects);\n\n        addElement("content", "div", "body");\n        addElement("header", "header", "content");\n        addElement("sidebar", "nav", "content");\n        addElement("main", "main", "content");\n        addElement("mainContainer", "mainContainer", "main");\n        addElement("footer", "footer", "content");\n\n        addIcon("done_all", "header");\n        addTextElement("Right Now", "h1", "header", "title");\n        addTextElement(`${Projects.current}`, "h2", "mainContainer", "projectTitle");\n        addElement("projectList", "div", "sidebar");\n        addElement("taskList", "div", "mainContainer");\n        addButton("Add Task", "mainContainer", () => {TaskDialog.open()});\n    }\n\n    render() {\n        this.renderProjects();\n        this.renderTasks();\n    }\n\n    renderProjects() {\n        deleteElementsFrom("projectList");\n        let icons = ["inbox", "star", "assignment_late", "watch_later", "format_list_bulleted"];\n        Projects.list.forEach((project, index) => {\n            if (index === 4) addTextElement(\'Projects\', "h2", "projectList", "projects");\n            let icon = (index <= 4) ? icons[index]: icons[4];\n            addButton(`${project.name}`, "projectList", () => {\n                project.setAsCurrent();\n                [...document.querySelector("#projectList").children].forEach(project => {\n                    project.classList.remove("active");\n                });\n                document.querySelector(`#${camelCase(Projects.current)}Btn`).classList.add("active");\n            }, icon);\n            if (index === 0) document.querySelector(`#inboxBtn`).classList.add("active");\n        })\n    }\n\n    renderTasks() {\n        document.querySelector(".projectTitle").textContent = `${Projects.current}`;\n\n        deleteElementsFrom("taskList");\n        let currentTasks = filterTasks(Tasks.list);\n        currentTasks.forEach((task, index) => {\n            let taskContainer = `task${index + 1}`;\n            addElement(taskContainer, "div", "taskList", "task");\n\n            addCheckbox(task, taskContainer);\n            addTextElement(task.name, "p", taskContainer, "name");\n            addTextElement(task.description, "p", taskContainer, "description");\n            addTextElement(task.date, "p", taskContainer, "date");\n            addElement("divider", "div", "taskList", "divider");\n\n            let star = (task.priority) ? "star" : "star_outline";\n            addIcon(star, taskContainer, (e) => {task.favourite()});\n            addIcon("edit", taskContainer, () => {task.edit()});\n            addIcon("close", taskContainer, () => {Tasks.delete(task)});\n\n            let elements = [...document.getElementById(`${taskContainer}`).children];\n\n            if (task.completed) {\n                elements.forEach(element => element.classList.add("completed"));\n            } else {\n                elements.forEach(element => element.classList.remove("completed"));\n            }\n\n            if (overdue(task.date)) {\n                elements[3].classList.add("overdue");\n            } else {\n                elements[3].classList.remove("overdue");\n            }\n        })\n    }\n}\n\nconst Screen = new Renderer;\n;// ./src/index.js\n\n\n\n\n\n\n\n\nScreen.render();\n\nlet defaultTasks = [\n    ["Dinner", "Prepare chicken and marinade", "Home", "11/12/2024"],\n    ["Walk", "Take a stroll with the dog", "Home", "06/03/2025"],\n    ["Meeting", "Write up meeting minutes from yesterday", "Work", "14/04/2025"],\n    ["Clean", "Tidy up the living room", "Home", "30/11/2024"],\n    ["Revise", "Read Chapter 4-6 and prepare notes", "Study", "28/01/2025"],\n    ["Repair", "Buy a new bulb to fix the ceiling light", "Home", "06/06/2025"],\n    ["Report", "Submit financial report to HR", "Work", "15/10/2025"],\n    ["Essay", "Edit conclusion and add references", "Study", "12/04/2025"]\n];\ndefaultTasks.forEach(task => Tasks.add(task[0], task[1], task[2], task[3]));\n\nlet defaultProjects = [ "Inbox", "Important", "Overdue", "Upcoming", "Home", "Work", "Study" ];\ndefaultProjects.forEach(project => Projects.add(project));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LCtCQUErQixZQUFZO0FBQzlELFlBQVksT0FBTyxnQ0FBZ0MsS0FBSyxjQUFjOztBQUV0RSwwREFBMEQsY0FBYzs7QUFFeEU7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFTyw0Qjs7QUN0RmU7QUFDd0I7QUFDQTtBQUNZO0FBQzFCO0FBQ0U7QUFDQTs7QUFFbEMsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixLQUFLOztBQUVsQztBQUNBLG1DQUFtQyxRQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VicGFjay8uL3NyYy9wdWJzdWIuanM/YmFlZSIsIndlYnBhY2s6Ly93ZWJwYWNrLy4vc3JjL3Byb2plY3QuanM/ZjU5YiIsIndlYnBhY2s6Ly93ZWJwYWNrLy4vc3JjL2hlbHBlci5qcz82Mjc1Iiwid2VicGFjazovL3dlYnBhY2svLi9zcmMvZGlhbG9nLmpzPzZlOGYiLCJ3ZWJwYWNrOi8vd2VicGFjay8uL3NyYy90YXNrLmpzPzdjMTEiLCJ3ZWJwYWNrOi8vd2VicGFjay8uL3NyYy9yZW5kZXIuanM/MTFmYyIsIndlYnBhY2s6Ly93ZWJwYWNrLy4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUHViU3ViIHtcbiAgICAjZXZlbnRzID0ge307XG5cbiAgICBvbihldmVudE5hbWUsIGZuKSB7XG4gICAgICAgIHRoaXMuI2V2ZW50c1tldmVudE5hbWVdID0gdGhpcy4jZXZlbnRzW2V2ZW50TmFtZV0gfHwgW107XG4gICAgICAgIHRoaXMuI2V2ZW50c1tldmVudE5hbWVdLnB1c2goZm4pO1xuICAgIH1cblxuICAgIG9mZihldmVudE5hbWUsIGZuKSB7XG4gICAgICAgIGlmICh0aGlzLiNldmVudHNbZXZlbnROYW1lXSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiNldmVudHNbZXZlbnROYW1lXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiNldmVudHNbZXZlbnROYW1lXVtpXSA9PT0gZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jZXZlbnRzW2V2ZW50TmFtZV0uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGVtaXQoZXZlbnROYW1lLCBkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLiNldmVudHNbZXZlbnROYW1lXSkge1xuICAgICAgICAgICAgdGhpcy4jZXZlbnRzW2V2ZW50TmFtZV0uZm9yRWFjaCgoZm4pID0+IHtcbiAgICAgICAgICAgICAgICBmbihkYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGxpc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNldmVudHM7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IEV2ZW50cyA9IG5ldyBQdWJTdWI7IiwiaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSBcIi4vcHVic3ViXCI7XG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfVxuXG4gICAgc2V0QXNDdXJyZW50KCkge1xuICAgICAgICBQcm9qZWN0cy5jdXJyZW50ID0gdGhpcy5uYW1lO1xuICAgICAgICBFdmVudHMuZW1pdChcInVwZGF0ZVRhc2tzXCIpO1xuICAgIH1cbn1cblxuY2xhc3MgUHJvamVjdE1hbmFnZXIge1xuICAgICNwcm9qZWN0TGlzdCA9IFtdO1xuICAgICNjdXJyZW50UHJvamVjdCA9IFwiSW5ib3hcIjtcblxuICAgIGdldCBsaXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcHJvamVjdExpc3Q7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNjdXJyZW50UHJvamVjdDtcbiAgICB9XG5cbiAgICBzZXQgY3VycmVudChwcm9qZWN0KSB7XG4gICAgICAgIHRoaXMuI2N1cnJlbnRQcm9qZWN0ID0gcHJvamVjdDtcbiAgICB9XG5cbiAgICBhZGQobmFtZSkge1xuICAgICAgICB0aGlzLiNwcm9qZWN0TGlzdC5wdXNoKG5ldyBQcm9qZWN0KG5hbWUpKTtcbiAgICAgICAgRXZlbnRzLmVtaXQoXCJ1cGRhdGVQcm9qZWN0c1wiKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBQcm9qZWN0cyA9IG5ldyBQcm9qZWN0TWFuYWdlcjsiLCJpbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi9wdWJzdWJcIjtcbmltcG9ydCB7IFByb2plY3RzIH0gZnJvbSBcIi4vcHJvamVjdFwiOyBcbmltcG9ydCB7IGFkZCB9IGZyb20gXCJkYXRlLWZuc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gdGVzdChjb2RlKSB7XG4gICAgY29uc29sZS5sb2coY29kZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRFbGVtZW50KG5hbWUsIHRhZywgdGFyZ2V0LCBjbGFzc05hbWUgPSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgJHt0YWd9YCk7XG4gICAgZWxlbWVudC5pZCA9IG5hbWU7XG4gICAgaWYgKGNsYXNzTmFtZSkgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgYXBwZW5kRWxlbWVudChlbGVtZW50LCB0YXJnZXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkVGV4dEVsZW1lbnQobmFtZSwgdGFnLCB0YXJnZXQsIGNsYXNzTmFtZSA9IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGAke3RhZ31gKTtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoYCR7Y2xhc3NOYW1lfWApO1xuICAgIGFwcGVuZEVsZW1lbnQoZWxlbWVudCwgdGFyZ2V0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEJ1dHRvbihuYW1lLCB0YXJnZXQsIGZuLCBpY29uKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgZWxlbWVudC5pZCA9IGAke2NhbWVsQ2FzZShuYW1lKX1CdG5gO1xuICAgIGFwcGVuZEVsZW1lbnQoZWxlbWVudCwgdGFyZ2V0KTtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge2ZuKGUpfSk7XG4gICAgaWYgKGljb24pIHtcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPiR7aWNvbn08L2k+YCArIG5hbWU7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkSWNvbihuYW1lLCB0YXJnZXQsIGZuID0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpXCIpO1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1hdGVyaWFsLWljb25zXCIpO1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIGFwcGVuZEVsZW1lbnQoZWxlbWVudCwgdGFyZ2V0KTtcbiAgIGlmIChmbikgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtmbihlKX0pO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRFbGVtZW50KGVsZW1lbnQsIHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQgPT09IFwiYm9keVwiKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGFyZ2V0fWApLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZENoZWNrYm94KHRhc2ssIHRhcmdldCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGVsZW1lbnQuaWQgPSB0YXNrLm5hbWU7XG4gICAgZWxlbWVudC5uYW1lID0gdGFzay5uYW1lO1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0YXJnZXR9YCkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAodGFzay5jb21wbGV0ZWQpID8gdGFzay5jb21wbGV0ZWQgPSBmYWxzZSA6IHRhc2suY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgRXZlbnRzLmVtaXQoXCJ1cGRhdGVUYXNrc1wiKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUVsZW1lbnRzRnJvbSh0YXJnZXQpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpLmlubmVySFRNTCA9IGBgO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FtZWxDYXNlKHN0cikge1xuICAgIHJldHVybiBzdHJcbiAgICAgICAgLnJlcGxhY2UoL1xccyguKS9nLCBmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgcmV0dXJuIGEudG9VcHBlckNhc2UoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnJlcGxhY2UoL1xccy9nLCAnJylcbiAgICAgICAgLnJlcGxhY2UoL14oLikvLCBmdW5jdGlvbiAoYikge1xuICAgICAgICAgICAgcmV0dXJuIGIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdmVyZHVlKGRhdGUpIHtcbiAgICBpZiAoZGF0ZSA9PT0gXCJcIikgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBpbnB1dERhdGUgPSBuZXcgRGF0ZShkYXRlLnJlcGxhY2UoLyhcXGRcXGQpXFwvKFxcZFxcZClcXC8oXFxkezR9KS8sIFwiJDItJDEtJDNcIikpLnRvSVNPU3RyaW5nKCk7XG4gICAgbGV0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoRGF0ZS5ub3coKSkudG9JU09TdHJpbmcoKTtcblxuICAgIHJldHVybiBpbnB1dERhdGUgPCBjdXJyZW50RGF0ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclRhc2tzKHRhc2tzKSB7XG4gICAgc3dpdGNoIChQcm9qZWN0cy5jdXJyZW50KSB7XG4gICAgICAgIGNhc2UgXCJJbmJveFwiOlxuICAgICAgICAgICAgcmV0dXJuIHRhc2tzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJJbXBvcnRhbnRcIjpcbiAgICAgICAgICAgIHJldHVybiB0YXNrcy5maWx0ZXIodGFzayA9PiB0YXNrLnByaW9yaXR5ID09PSB0cnVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiT3ZlcmR1ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHRhc2tzLmZpbHRlcih0YXNrID0+IG92ZXJkdWUodGFzay5kYXRlKSA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlVwY29taW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gdGFza3MuZmlsdGVyKHRhc2sgPT4gb3ZlcmR1ZSh0YXNrLmRhdGUpID09PSBmYWxzZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB0YXNrcy5maWx0ZXIodGFzayA9PiB0YXNrLnByb2plY3QgPT09IFByb2plY3RzLmN1cnJlbnQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERhdGUoZGF0ZSkge1xuICAgIGxldCBwYXJ0cyA9IGRhdGUuc3BsaXQoJy8nKTtcbiAgICByZXR1cm4gYCR7cGFydHNbMl19LSR7cGFydHNbMV19LSR7cGFydHNbMF19YDtcbn0iLCJpbXBvcnQgeyBUYXNrcyB9IGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCB7IGdldERhdGUgfSBmcm9tIFwiLi9oZWxwZXJcIjtcblxuZXhwb3J0IGNsYXNzIERpYWxvZyB7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke25hbWV9YCk7XG4gICAgICAgIHRoaXMuYW5zd2VycyA9IHt9O1xuXG4gICAgICAgIGxldCBjbG9zZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xvc2VCdG5cIik7XG4gICAgICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBjb25maXJtQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25maXJtQnRuXCIpO1xuICAgICAgICBjb25maXJtQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke25hbWV9IGZvcm1gKS5jaGlsZHJlbl0uZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5zd2Vyc1tlbGVtZW50Lm5hbWVdID0gZWxlbWVudC52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuYW5zd2Vycy5kYXRlID0gKHRoaXMuYW5zd2Vycy5kYXRlKSA/IG5ldyBEYXRlKHRoaXMuYW5zd2Vycy5kYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoKSA6IFwiXCI7XG5cbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRpYWxvZ1RpdGxlXCIpLmlubmVySFRNTCA9PT0gJ0FkZCBUYXNrJykge1xuICAgICAgICAgICAgICAgIFRhc2tzLmFkZChgJHt0aGlzLmFuc3dlcnMubmFtZX1gLGAke3RoaXMuYW5zd2Vycy5kZXNjcmlwdGlvbn1gLCBgJHt0aGlzLmFuc3dlcnMucHJvamVjdH1gLCBgJHt0aGlzLmFuc3dlcnMuZGF0ZX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgb3BlbigpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkaWFsb2dUaXRsZVwiKS5pbm5lckhUTUwgPSAnQWRkIFRhc2snO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZS5zaG93TW9kYWwoKTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2UuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5uYW1lfSBmb3JtYCkuY2hpbGRyZW5dLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBzd2l0Y2goZWxlbWVudC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnbmFtZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZGVzY3JpcHRpb24nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3Byb2plY3QnOlxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gJ0hvbWUnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0IHNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmZXJlbmNlO1xuICAgIH1cblxuICAgIGFzeW5jIGVkaXQoZmllbGRzKSB7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRpYWxvZ1RpdGxlXCIpLmlubmVySFRNTCA9ICdFZGl0IFRhc2snO1xuICAgICAgICBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5uYW1lfSBmb3JtYCkuY2hpbGRyZW5dLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5uYW1lIGluIGZpZWxkcykge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Lm5hbWUgPT0gJ2RhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQudmFsdWUgPSBnZXREYXRlKGZpZWxkcy5kYXRlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyBcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC52YWx1ZSA9IGZpZWxkc1tlbGVtZW50Lm5hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmZpcm1CdG5cIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYW5zd2VycztcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBUYXNrRGlhbG9nID0gbmV3IERpYWxvZyhcInRvRG9EaWFsb2dcIik7IiwiaW1wb3J0IHsgY29uc3RydWN0RnJvbSB9IGZyb20gXCJkYXRlLWZuc1wiO1xuaW1wb3J0IHsgdGVzdCB9IGZyb20gXCIuL2hlbHBlclwiO1xuaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSBcIi4vcHVic3ViXCI7XG5pbXBvcnQgeyBUYXNrRGlhbG9nIH0gZnJvbSBcIi4vZGlhbG9nXCI7XG5cbmV4cG9ydCBjbGFzcyBUYXNrIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBkZXNjcmlwdGlvbiwgcHJvamVjdCwgZGF0ZSA9IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMuZGF0ZSA9IGRhdGU7XG4gICAgICAgIHRoaXMuY29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBmYXZvdXJpdGUoKSB7XG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSAodGhpcy5wcmlvcml0eSkgPyBmYWxzZSA6IHRydWU7XG4gICAgICAgIEV2ZW50cy5lbWl0KFwidXBkYXRlVGFza3NcIik7XG4gICAgfVxuXG4gICAgYXN5bmMgZWRpdCgpIHtcbiAgICAgICAgbGV0IGZpZWxkcyA9IGF3YWl0IFRhc2tEaWFsb2cuZWRpdCh7bmFtZTogdGhpcy5uYW1lLCBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbiwgcHJvamVjdDogdGhpcy5wcm9qZWN0LCBkYXRlOiB0aGlzLmRhdGV9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gZmllbGRzLm5hbWU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBmaWVsZHMuZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMucHJvamVjdCA9IGZpZWxkcy5wcm9qZWN0O1xuICAgICAgICB0aGlzLmRhdGUgPSBmaWVsZHMuZGF0ZTtcbiAgICAgICAgRXZlbnRzLmVtaXQoXCJ1cGRhdGVUYXNrc1wiKTtcbiAgICB9XG59XG5cbmNsYXNzIExpc3Qge1xuICAgICNsaXN0SXRlbXMgPSBbXTtcblxuICAgIGdldCBsaXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jbGlzdEl0ZW1zO1xuICAgIH1cblxuICAgIGFkZChuYW1lLCBkZXNjcmlwdGlvbiwgcHJvamVjdCwgZGF0ZSkge1xuICAgICAgICB0aGlzLiNsaXN0SXRlbXMucHVzaChuZXcgVGFzayhuYW1lLCBkZXNjcmlwdGlvbiwgcHJvamVjdCwgZGF0ZSkpO1xuICAgICAgICBFdmVudHMuZW1pdChcInVwZGF0ZVRhc2tzXCIpO1xuICAgIH1cblxuICAgIGRlbGV0ZSh0YXNrKSB7XG4gICAgICAgIHRoaXMuI2xpc3RJdGVtcyA9IHRoaXMubGlzdC5maWx0ZXIodGFza3MgPT4gdGFza3MubmFtZSAhPSB0YXNrLm5hbWUpO1xuICAgICAgICBFdmVudHMuZW1pdChcInVwZGF0ZVRhc2tzXCIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFRhc2tzID0gbmV3IExpc3Q7IiwiaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSBcIi4vcHVic3ViXCI7XG5pbXBvcnQgeyB0ZXN0LCBhZGRFbGVtZW50LCBhZGRUZXh0RWxlbWVudCwgYWRkQnV0dG9uLCBkZWxldGVFbGVtZW50c0Zyb20sIGNhbWVsQ2FzZSwgYWRkQ2hlY2tib3gsIG92ZXJkdWUsIGZpbHRlclRhc2tzLCBhZGRJY29uIH0gZnJvbSBcIi4vaGVscGVyXCI7XG5pbXBvcnQgeyBUYXNrcyB9IGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCB7IFByb2plY3QsIFByb2plY3RzIH0gZnJvbSBcIi4vcHJvamVjdFwiO1xuaW1wb3J0IHsgVGFza0RpYWxvZyB9IGZyb20gXCIuL2RpYWxvZ1wiO1xuXG5jbGFzcyBSZW5kZXJlciB7XG4gICAgcHJvamVjdFRpdGxlO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBFdmVudHMub24oXCJ1cGRhdGVUYXNrc1wiLCB0aGlzLnJlbmRlclRhc2tzKTtcbiAgICAgICAgRXZlbnRzLm9uKFwidXBkYXRlUHJvamVjdHNcIiwgdGhpcy5yZW5kZXJQcm9qZWN0cyk7XG5cbiAgICAgICAgYWRkRWxlbWVudChcImNvbnRlbnRcIiwgXCJkaXZcIiwgXCJib2R5XCIpO1xuICAgICAgICBhZGRFbGVtZW50KFwiaGVhZGVyXCIsIFwiaGVhZGVyXCIsIFwiY29udGVudFwiKTtcbiAgICAgICAgYWRkRWxlbWVudChcInNpZGViYXJcIiwgXCJuYXZcIiwgXCJjb250ZW50XCIpO1xuICAgICAgICBhZGRFbGVtZW50KFwibWFpblwiLCBcIm1haW5cIiwgXCJjb250ZW50XCIpO1xuICAgICAgICBhZGRFbGVtZW50KFwibWFpbkNvbnRhaW5lclwiLCBcIm1haW5Db250YWluZXJcIiwgXCJtYWluXCIpO1xuICAgICAgICBhZGRFbGVtZW50KFwiZm9vdGVyXCIsIFwiZm9vdGVyXCIsIFwiY29udGVudFwiKTtcblxuICAgICAgICBhZGRJY29uKFwiZG9uZV9hbGxcIiwgXCJoZWFkZXJcIik7XG4gICAgICAgIGFkZFRleHRFbGVtZW50KFwiUmlnaHQgTm93XCIsIFwiaDFcIiwgXCJoZWFkZXJcIiwgXCJ0aXRsZVwiKTtcbiAgICAgICAgYWRkVGV4dEVsZW1lbnQoYCR7UHJvamVjdHMuY3VycmVudH1gLCBcImgyXCIsIFwibWFpbkNvbnRhaW5lclwiLCBcInByb2plY3RUaXRsZVwiKTtcbiAgICAgICAgYWRkRWxlbWVudChcInByb2plY3RMaXN0XCIsIFwiZGl2XCIsIFwic2lkZWJhclwiKTtcbiAgICAgICAgYWRkRWxlbWVudChcInRhc2tMaXN0XCIsIFwiZGl2XCIsIFwibWFpbkNvbnRhaW5lclwiKTtcbiAgICAgICAgYWRkQnV0dG9uKFwiQWRkIFRhc2tcIiwgXCJtYWluQ29udGFpbmVyXCIsICgpID0+IHtUYXNrRGlhbG9nLm9wZW4oKX0pO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9qZWN0cygpO1xuICAgICAgICB0aGlzLnJlbmRlclRhc2tzKCk7XG4gICAgfVxuXG4gICAgcmVuZGVyUHJvamVjdHMoKSB7XG4gICAgICAgIGRlbGV0ZUVsZW1lbnRzRnJvbShcInByb2plY3RMaXN0XCIpO1xuICAgICAgICBsZXQgaWNvbnMgPSBbXCJpbmJveFwiLCBcInN0YXJcIiwgXCJhc3NpZ25tZW50X2xhdGVcIiwgXCJ3YXRjaF9sYXRlclwiLCBcImZvcm1hdF9saXN0X2J1bGxldGVkXCJdO1xuICAgICAgICBQcm9qZWN0cy5saXN0LmZvckVhY2goKHByb2plY3QsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDQpIGFkZFRleHRFbGVtZW50KCdQcm9qZWN0cycsIFwiaDJcIiwgXCJwcm9qZWN0TGlzdFwiLCBcInByb2plY3RzXCIpO1xuICAgICAgICAgICAgbGV0IGljb24gPSAoaW5kZXggPD0gNCkgPyBpY29uc1tpbmRleF06IGljb25zWzRdO1xuICAgICAgICAgICAgYWRkQnV0dG9uKGAke3Byb2plY3QubmFtZX1gLCBcInByb2plY3RMaXN0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0LnNldEFzQ3VycmVudCgpO1xuICAgICAgICAgICAgICAgIFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3RMaXN0XCIpLmNoaWxkcmVuXS5mb3JFYWNoKHByb2plY3QgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7Y2FtZWxDYXNlKFByb2plY3RzLmN1cnJlbnQpfUJ0bmApLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICB9LCBpY29uKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2luYm94QnRuYCkuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZW5kZXJUYXNrcygpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0VGl0bGVcIikudGV4dENvbnRlbnQgPSBgJHtQcm9qZWN0cy5jdXJyZW50fWA7XG5cbiAgICAgICAgZGVsZXRlRWxlbWVudHNGcm9tKFwidGFza0xpc3RcIik7XG4gICAgICAgIGxldCBjdXJyZW50VGFza3MgPSBmaWx0ZXJUYXNrcyhUYXNrcy5saXN0KTtcbiAgICAgICAgY3VycmVudFRhc2tzLmZvckVhY2goKHRhc2ssIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBsZXQgdGFza0NvbnRhaW5lciA9IGB0YXNrJHtpbmRleCArIDF9YDtcbiAgICAgICAgICAgIGFkZEVsZW1lbnQodGFza0NvbnRhaW5lciwgXCJkaXZcIiwgXCJ0YXNrTGlzdFwiLCBcInRhc2tcIik7XG5cbiAgICAgICAgICAgIGFkZENoZWNrYm94KHRhc2ssIHRhc2tDb250YWluZXIpO1xuICAgICAgICAgICAgYWRkVGV4dEVsZW1lbnQodGFzay5uYW1lLCBcInBcIiwgdGFza0NvbnRhaW5lciwgXCJuYW1lXCIpO1xuICAgICAgICAgICAgYWRkVGV4dEVsZW1lbnQodGFzay5kZXNjcmlwdGlvbiwgXCJwXCIsIHRhc2tDb250YWluZXIsIFwiZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgICBhZGRUZXh0RWxlbWVudCh0YXNrLmRhdGUsIFwicFwiLCB0YXNrQ29udGFpbmVyLCBcImRhdGVcIik7XG4gICAgICAgICAgICBhZGRFbGVtZW50KFwiZGl2aWRlclwiLCBcImRpdlwiLCBcInRhc2tMaXN0XCIsIFwiZGl2aWRlclwiKTtcblxuICAgICAgICAgICAgbGV0IHN0YXIgPSAodGFzay5wcmlvcml0eSkgPyBcInN0YXJcIiA6IFwic3Rhcl9vdXRsaW5lXCI7XG4gICAgICAgICAgICBhZGRJY29uKHN0YXIsIHRhc2tDb250YWluZXIsIChlKSA9PiB7dGFzay5mYXZvdXJpdGUoKX0pO1xuICAgICAgICAgICAgYWRkSWNvbihcImVkaXRcIiwgdGFza0NvbnRhaW5lciwgKCkgPT4ge3Rhc2suZWRpdCgpfSk7XG4gICAgICAgICAgICBhZGRJY29uKFwiY2xvc2VcIiwgdGFza0NvbnRhaW5lciwgKCkgPT4ge1Rhc2tzLmRlbGV0ZSh0YXNrKX0pO1xuXG4gICAgICAgICAgICBsZXQgZWxlbWVudHMgPSBbLi4uZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGFza0NvbnRhaW5lcn1gKS5jaGlsZHJlbl07XG5cbiAgICAgICAgICAgIGlmICh0YXNrLmNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjb21wbGV0ZWRcIikpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4gZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiY29tcGxldGVkXCIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG92ZXJkdWUodGFzay5kYXRlKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzWzNdLmNsYXNzTGlzdC5hZGQoXCJvdmVyZHVlXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50c1szXS5jbGFzc0xpc3QucmVtb3ZlKFwib3ZlcmR1ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBTY3JlZW4gPSBuZXcgUmVuZGVyZXI7IiwiaW1wb3J0IFwiLi9zdHlsZXMuY3NzXCI7XG5pbXBvcnQgeyBjb21wYXJlQXNjLCBmb3JtYXQgfSBmcm9tIFwiZGF0ZS1mbnNcIjtcbmltcG9ydCB7IFRhc2ssIFRhc2tzLCBhZGRUYXNrIH0gZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0IHsgUHJvamVjdCwgUHJvamVjdHMsIGFkZFByb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0XCI7XG5pbXBvcnQgeyB0ZXN0IH0gZnJvbSBcIi4vaGVscGVyXCI7XG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi9wdWJzdWJcIjtcbmltcG9ydCB7IFNjcmVlbiB9IGZyb20gXCIuL3JlbmRlclwiO1xuXG5TY3JlZW4ucmVuZGVyKCk7XG5cbmxldCBkZWZhdWx0VGFza3MgPSBbXG4gICAgW1wiRGlubmVyXCIsIFwiUHJlcGFyZSBjaGlja2VuIGFuZCBtYXJpbmFkZVwiLCBcIkhvbWVcIiwgXCIxMS8xMi8yMDI0XCJdLFxuICAgIFtcIldhbGtcIiwgXCJUYWtlIGEgc3Ryb2xsIHdpdGggdGhlIGRvZ1wiLCBcIkhvbWVcIiwgXCIwNi8wMy8yMDI1XCJdLFxuICAgIFtcIk1lZXRpbmdcIiwgXCJXcml0ZSB1cCBtZWV0aW5nIG1pbnV0ZXMgZnJvbSB5ZXN0ZXJkYXlcIiwgXCJXb3JrXCIsIFwiMTQvMDQvMjAyNVwiXSxcbiAgICBbXCJDbGVhblwiLCBcIlRpZHkgdXAgdGhlIGxpdmluZyByb29tXCIsIFwiSG9tZVwiLCBcIjMwLzExLzIwMjRcIl0sXG4gICAgW1wiUmV2aXNlXCIsIFwiUmVhZCBDaGFwdGVyIDQtNiBhbmQgcHJlcGFyZSBub3Rlc1wiLCBcIlN0dWR5XCIsIFwiMjgvMDEvMjAyNVwiXSxcbiAgICBbXCJSZXBhaXJcIiwgXCJCdXkgYSBuZXcgYnVsYiB0byBmaXggdGhlIGNlaWxpbmcgbGlnaHRcIiwgXCJIb21lXCIsIFwiMDYvMDYvMjAyNVwiXSxcbiAgICBbXCJSZXBvcnRcIiwgXCJTdWJtaXQgZmluYW5jaWFsIHJlcG9ydCB0byBIUlwiLCBcIldvcmtcIiwgXCIxNS8xMC8yMDI1XCJdLFxuICAgIFtcIkVzc2F5XCIsIFwiRWRpdCBjb25jbHVzaW9uIGFuZCBhZGQgcmVmZXJlbmNlc1wiLCBcIlN0dWR5XCIsIFwiMTIvMDQvMjAyNVwiXVxuXTtcbmRlZmF1bHRUYXNrcy5mb3JFYWNoKHRhc2sgPT4gVGFza3MuYWRkKHRhc2tbMF0sIHRhc2tbMV0sIHRhc2tbMl0sIHRhc2tbM10pKTtcblxubGV0IGRlZmF1bHRQcm9qZWN0cyA9IFsgXCJJbmJveFwiLCBcIkltcG9ydGFudFwiLCBcIk92ZXJkdWVcIiwgXCJVcGNvbWluZ1wiLCBcIkhvbWVcIiwgXCJXb3JrXCIsIFwiU3R1ZHlcIiBdO1xuZGVmYXVsdFByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiBQcm9qZWN0cy5hZGQocHJvamVjdCkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///558\n')}},__webpack_exports__={};__webpack_modules__[558]()})();